{"version":3,"sources":["webpack:///./images/icon-close.svg","webpack:///./index.js","webpack:///./gallery-items.js"],"names":["module","exports","refs","galleryList","document","querySelector","lightbox","imgInLightbox","insertAdjacentHTML","preview","original","description","map","img","join","addEventListener","event","preventDefault","target","nodeName","classList","add","openImgInModal","clickInOverflow","pressEscOrArrows","activImagesRefs","querySelectorAll","currentPicture","obj","setAttribute","dataset","source","alt","closureOfLightbox","removeEventListener","remove","nextImg","key","objOfImg","arr","forEach","push","currentIndex","indexOf","nextIndex","length","previosImg"],"mappings":"qGAAAA,EAAOC,QAAU,IAA0B,yB,uICIrCC,EAAO,CACTC,YAAaC,SAASC,cAAc,eACpCC,SAAUF,SAASC,cAAc,gBACjCE,cAAeH,SAASC,cAAc,qBAG1CH,EAAKC,YAAYK,mBAAmB,YCVrB,CACb,CACEC,QACE,uFACFC,SACE,uFACFC,YAAa,mBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,6BAEf,CACEF,QACE,wEACFC,SACE,wEACFC,YAAa,qBAEf,CACEF,QACE,0EACFC,SACE,0EACFC,YAAa,iBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,yBAEf,CACEF,QACE,2EACFC,SACE,2EACFC,YAAa,yBAEf,CACEF,QACE,4EACFC,SACE,4EACFC,YAAa,oBAEf,CACEF,QACE,6EACFC,SACE,6EACFC,YAAa,yBD/CgBC,KAAI,SAAAC,GAAG,uFAItBA,EAAIH,SAJkB,4EAOrBG,EAAIJ,QAPiB,2DASbI,EAAIH,SATS,uBAUrBG,EAAIF,YAViB,gDAclCG,KAAK,MAjBXZ,EAAKC,YAAYY,iBAAiB,SAwBlC,SAA+BC,GAE3B,GADAA,EAAMC,iBACwB,QAA1BD,EAAME,OAAOC,SACb,OAEJjB,EAAKI,SAASc,UAAUC,IAAI,WAC5BC,EAAeN,EAAME,QAErBhB,EAAKI,SAASS,iBAAiB,QAASQ,GACxCnB,SAASW,iBAAiB,UAAWS,GAErCC,EAAkBrB,SAASsB,iBAAiB,mBAC5CC,EAAiBX,EAAME,UAf3B,IAAIO,EAAkB,GAClBE,EAAiB,GAiBrB,SAASL,EAAgBM,GACrB1B,EAAKK,cAAcsB,aAAa,MAAOD,EAAIE,QAAQC,QACnD7B,EAAKK,cAAcsB,aAAa,MAAOD,EAAII,KAG/C,SAASC,IACL/B,EAAKI,SAAS4B,oBAAoB,QAASX,GAC3CnB,SAAS8B,oBAAoB,UAAWV,GACxCtB,EAAKK,cAAcsB,aAAa,MAAO,IACvC3B,EAAKK,cAAcsB,aAAa,MAAO,IACvC3B,EAAKI,SAASc,UAAUe,OAAO,WAGnC,SAASZ,EAAiBP,GACtB,GAA8B,QAA1BA,EAAME,OAAOC,SACb,OAAOiB,EAAST,GAErBM,IAGH,SAAST,EAAkBR,GACN,WAAdA,EAAMqB,IACLJ,IACoB,eAAdjB,EAAMqB,IACZD,EAAQT,GACY,cAAdX,EAAMqB,KAmBpB,SAAoBC,GAChB,IAAMC,EAAM,GAEZd,EAAgBe,SAAQ,SAAA3B,GAAG,OAAI0B,EAAIE,KAAK5B,EAAIiB,QAAQC,WACpD,IAAMW,EAAeH,EAAII,QAAQL,EAASR,QAAQC,QAC5Ca,EAAYF,EAAe,EAEzBf,EADgB,IAAjBe,EACkBjB,EAAgBc,EAAIM,OAAS,GAE7BpB,EAAgBmB,GAErCtB,EAAeK,GA7BfmB,CAAWnB,GAInB,SAASS,EAASE,GACd,IAAMC,EAAM,GAEZd,EAAgBe,SAAQ,SAAA3B,GAAG,OAAI0B,EAAIE,KAAK5B,EAAIiB,QAAQC,WACpD,IAAMW,EAAeH,EAAII,QAAQL,EAASR,QAAQC,QAC5Ca,EAAYF,EAAe,EAM7BpB,EAJIK,EADDe,IAAiBH,EAAIM,OAAS,EACZpB,EAAgB,GAEhBA,EAAgBmB,O","file":"main.7d989c682c06e88bdffa.js","sourcesContent":["module.exports = __webpack_public_path__ + \"images/icon-close.svg\";","import './styles.css';\nimport './images/icon-close.svg';\nimport images from './gallery-items.js';\n\nconst refs = {\n    galleryList: document.querySelector('.js-gallery'),\n    lightbox: document.querySelector('.js-lightbox'),\n    imgInLightbox: document.querySelector('.lightbox__image'),\n    }\n\nrefs.galleryList.insertAdjacentHTML('beforeend', createMarkup(images));\n\nrefs.galleryList.addEventListener('click', appearanceOfLightbox);\n\nfunction createMarkup (images) {\n    const galleryMarkup = images.map(img =>   \n        // console.log(img);     \n        `<li class=\"gallery__item\">\n        <a class=\"gallery__link\"\n          href=\"${img.original}\">\n          <img\n            class=\"gallery__image\"\n            src=\"${img.preview}\"\n            loading=\"lazy\"\n            data-source=\"${img.original}\"\n            alt=\"${img.description}\"\n          />\n        </a>\n      </li>`\n    ).join(' ');\n    return galleryMarkup;\n}\n\nlet activImagesRefs = [];\nlet currentPicture = {};\n\nfunction appearanceOfLightbox (event) {\n    event.preventDefault();\n    if (event.target.nodeName !== 'IMG') {\n        return\n    }\n    refs.lightbox.classList.add('is-open');\n    openImgInModal(event.target);   \n    \n    refs.lightbox.addEventListener('click', clickInOverflow);\n    document.addEventListener('keydown', pressEscOrArrows);\n\n    activImagesRefs = document.querySelectorAll('.gallery__image'); \n    currentPicture = event.target;         \n}\n\nfunction openImgInModal (obj){\n    refs.imgInLightbox.setAttribute(\"src\", obj.dataset.source);\n    refs.imgInLightbox.setAttribute(\"alt\", obj.alt);\n}\n\nfunction closureOfLightbox () {\n    refs.lightbox.removeEventListener('click', clickInOverflow);\n    document.removeEventListener('keydown', pressEscOrArrows);\n    refs.imgInLightbox.setAttribute(\"src\", '');\n    refs.imgInLightbox.setAttribute(\"alt\", '');    \n    refs.lightbox.classList.remove('is-open');    \n}\n\nfunction clickInOverflow (event) {\n    if (event.target.nodeName === 'IMG') {\n        return nextImg (currentPicture);\n    }\n   closureOfLightbox();\n}\n\nfunction pressEscOrArrows (event) {\n    if(event.key === 'Escape') {\n        closureOfLightbox()\n    } else if(event.key === 'ArrowRight'){\n        nextImg(currentPicture);\n    } else if(event.key === 'ArrowLeft'){\n        previosImg(currentPicture);\n    }        \n}\n\nfunction nextImg (objOfImg) {   \n    const arr = [];\n   \n    activImagesRefs.forEach(img => arr.push(img.dataset.source));\n    const currentIndex = arr.indexOf(objOfImg.dataset.source);\n    const nextIndex = currentIndex + 1;\n        if(currentIndex === arr.length - 1){\n            currentPicture = activImagesRefs[0]\n        } else {\n            currentPicture = activImagesRefs[nextIndex]\n        }\n        openImgInModal(currentPicture);    \n}\n\nfunction previosImg(objOfImg){\n    const arr = [];\n   \n    activImagesRefs.forEach(img => arr.push(img.dataset.source));\n    const currentIndex = arr.indexOf(objOfImg.dataset.source);\n    const nextIndex = currentIndex - 1;\n        if(currentIndex === 0){\n            currentPicture = activImagesRefs[arr.length - 1]\n        } else {\n            currentPicture = activImagesRefs[nextIndex]\n        }\n        openImgInModal(currentPicture);\n    \n}\n","export default [\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\r\n    description: 'Hokkaido Flower',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\r\n    description: 'Container Haulage Freight',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\r\n    description: 'Aerial Beach View',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\r\n    description: 'Flower Blooms',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\r\n    description: 'Alpine Mountains',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\r\n    description: 'Mountain Lake Sailing',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\r\n    description: 'Alpine Spring Meadows',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\r\n    description: 'Nature Landscape',\r\n  },\r\n  {\r\n    preview:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\r\n    original:\r\n      'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\r\n    description: 'Lighthouse Coast Sea',\r\n  },\r\n];\r\n"],"sourceRoot":""}